<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>åˆæˆãƒã‚¹æ–‡å­—ç”Ÿæˆãƒ„ãƒ¼ãƒ«ï¼ˆæœ€å¤§100ä¸‡ï¼‰</title>
  <style>
    body {
      background: #111;
      color: #eee;
      font-family: sans-serif;
      text-align: center;
      padding: 20px;
    }
    textarea, input, select, button {
      font-size: 16px;
      width: 90%;
      max-width: 600px;
      padding: 12px;
      margin: 10px auto;
      border-radius: 6px;
      border: none;
      display: block;
    }
    #output {
      font-size: 28px;
      white-space: pre-wrap;
      background: #222;
      color: #0f0;
      padding: 20px;
      margin-top: 20px;
      border-radius: 10px;
      max-width: 95%;
      word-break: break-word;
      overflow-wrap: anywhere;
      user-select: all;
      cursor: pointer;
    }
    .note {
      color: #aaa;
      font-size: 14px;
    }
    .btn-group {
      display: flex;
      flex-direction: column;
      gap: 10px;
      align-items: center;
    }
    @media (min-width: 600px) {
      .btn-group {
        flex-direction: row;
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <h2>ğŸ§¿ ã‚¯ãƒ©ãƒƒã‚·ãƒ¥æ–‡å­—æ”¹è‰¯ç‰ˆã€€byã—ã‚ã</h2>

  <label>ä½¿ã„ãŸã„æ–‡å­—ã‚»ãƒƒãƒˆï¼š</label>
  <textarea id="charSetInput">à£ªà£«à£¬à£­à£®à£¯à£°à£±à£²à£³à£´à£µà£¶à£·à£¸à£¹à£ºà£»à£¼à£½à£¾à£¿</textarea>

  <label>åˆæˆæ•°ï¼ˆ1ãƒã‚¹ã«é‡ã­ã‚‹æ–‡å­—æ•°ã€æœ€å¤§1000000ï¼‰ï¼š</label>
  <input type="number" id="countInput" value="1000" min="1" max="1000000" />

  <label>ä¸¦ã¹æ–¹ï¼š</label>
  <select id="layoutSelect">
    <option value="horizontal">æ¨ªã«ä¸¦ã¹ã‚‹ï¼ˆ1è¡Œï¼‰</option>
    <option value="vertical">ç¸¦ã«ä¸¦ã¹ã‚‹ï¼ˆ1åˆ—ï¼‰</option>
    <option value="grid">ã‚°ãƒªãƒƒãƒ‰ï¼ˆä¾‹: 5x5ï¼‰</option>
  </select>

  <label>ä¸¦ã¹ã‚‹æ•°ï¼ˆå€‹æ•° or æ¨ªxç¸¦ï¼‰ï¼š</label>
  <input type="text" id="amountInput" value="10" />

  <div class="btn-group">
    <button onclick="generate()">â–¶ï¸ ç”Ÿæˆ</button>
    <button onclick="downloadTxt()">ğŸ“ .txtã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>
  </div>

  <div id="output" title="ã‚¯ãƒªãƒƒã‚¯ã§ã‚³ãƒ”ãƒ¼å¯">ğŸŒ€ ã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</div>
  <div class="note">â€» è²¼ã‚‹ã¨1ãƒã‚¹ã«å¤§é‡ã®æ–‡å­—ãŒå«ã¾ã‚Œã¾ã™ã€‚ã‚¹ãƒãƒ›ã§é‡ã™ãã‚‹ã¨è½ã¡ã‚‹ã‹ã‚‚</div>

  <script>
    let lastGenerated = '';

    function makeChar(charSet, count) {
      const base = 'Ù€';
      let out = base;
      for (let i = 0; i < count; i++) {
        out += charSet[Math.floor(Math.random() * charSet.length)];
      }
      return out;
    }

    function generate() {
      const charSet = document.getElementById("charSetInput").value;
      const count = Math.min(parseInt(document.getElementById("countInput").value), 1000000);
      const layout = document.getElementById("layoutSelect").value;
      const amountRaw = document.getElementById("amountInput").value.trim();
      let output = '';

      if (!charSet || count <= 0) return;

      if (layout === "horizontal") {
        const n = parseInt(amountRaw);
        for (let i = 0; i < n; i++) output += makeChar(charSet, count);
      } else if (layout === "vertical") {
        const n = parseInt(amountRaw);
        for (let i = 0; i < n; i++) output += makeChar(charSet, count) + '\n';
      } else if (layout === "grid") {
        const [w, h] = amountRaw.split('x').map(Number);
        for (let y = 0; y < h; y++) {
          for (let x = 0; x < w; x++) {
            output += makeChar(charSet, count);
          }
          output += '\n';
        }
      }

      document.getElementById("output").textContent = output;
      lastGenerated = output;

      // ã‚¯ãƒªãƒƒã‚¯ã§ã‚³ãƒ”ãƒ¼
      document.getElementById("output").onclick = () => {
        navigator.clipboard.writeText(output).then(() => {
          const el = document.getElementById("output");
          el.textContent = "âœ… ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ";
          setTimeout(() => { el.textContent = output }, 1000);
        });
      };
    }

    function downloadTxt() {
      if (!lastGenerated) return;
      const blob = new Blob([lastGenerated], { type: "text/plain" });
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = "generated-masu.txt";
      link.click();
    }
  </script>
</body>
</html>